<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700">
  <defs>
    <linearGradient id="internetGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="usGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="euGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2ecc71;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#27ae60;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="asiaGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="extGwGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1abc9c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a085;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="coreGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d68910;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="700" fill="#f5f6fa"/>
  
  <!-- Title -->
  <text x="600" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1abc9c">EXTERNAL API GATEWAY ARCHITECTURE</text>
  <text x="600" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">Public-Facing API Gateways for External Consumers (3 Regions)</text>
  
  <!-- Internet Section -->
  <rect x="50" y="80" width="1100" height="70" rx="10" fill="url(#internetGrad)" filter="url(#shadow)"/>
  <text x="600" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ecf0f1">GLOBAL INTERNET</text>
  <text x="600" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#bdc3c7">External API Consumers | Mobile Apps | Web Apps | Partners | Third-Party Systems</text>
  
  <!-- External GSLB -->
  <rect x="100" y="170" width="1000" height="50" rx="6" fill="#34495e" filter="url(#shadow)"/>
  <text x="600" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#ecf0f1">EXTERNAL GSLB / GeoDNS</text>
  <text x="600" y="212" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">Routes traffic to nearest healthy region based on geo-location</text>
  
  <!-- US Region -->
  <g transform="translate(60, 245)">
    <rect width="340" height="280" rx="12" fill="url(#usGrad)" filter="url(#shadow)"/>
    <text x="170" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">US REGION</text>
    
    <!-- Outer DMZ -->
    <rect x="15" y="50" width="310" height="55" rx="5" fill="rgba(255,255,255,0.2)"/>
    <text x="170" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">OUTER DMZ</text>
    <text x="170" y="92" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="rgba(255,255,255,0.9)">WAF | DDoS Protection | Regional LB | SSL Termination</text>
    
    <!-- Inner DMZ - External Gateways -->
    <rect x="15" y="115" width="310" height="110" rx="5" fill="rgba(255,255,255,0.3)"/>
    <text x="170" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">INNER DMZ - EXTERNAL GATEWAYS</text>
    
    <rect x="25" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="57" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="57" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-1</text>
    
    <rect x="100" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="132" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="132" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-2</text>
    
    <rect x="175" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="207" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="207" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-3</text>
    
    <rect x="250" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="282" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="282" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-N</text>
    
    <!-- App Zone -->
    <rect x="15" y="235" width="310" height="30" rx="4" fill="rgba(255,255,255,0.15)"/>
    <text x="170" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">APP ZONE → Backend Services</text>
  </g>
  
  <!-- EU Region -->
  <g transform="translate(430, 245)">
    <rect width="340" height="280" rx="12" fill="url(#euGrad)" filter="url(#shadow)"/>
    <text x="170" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">EU REGION</text>
    
    <rect x="15" y="50" width="310" height="55" rx="5" fill="rgba(255,255,255,0.2)"/>
    <text x="170" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">OUTER DMZ</text>
    <text x="170" y="92" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="rgba(255,255,255,0.9)">WAF | DDoS Protection | Regional LB | SSL Termination</text>
    
    <rect x="15" y="115" width="310" height="110" rx="5" fill="rgba(255,255,255,0.3)"/>
    <text x="170" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">INNER DMZ - EXTERNAL GATEWAYS</text>
    
    <rect x="25" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="57" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="57" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-1</text>
    
    <rect x="100" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="132" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="132" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-2</text>
    
    <rect x="175" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="207" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="207" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-3</text>
    
    <rect x="250" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="282" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="282" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-N</text>
    
    <rect x="15" y="235" width="310" height="30" rx="4" fill="rgba(255,255,255,0.15)"/>
    <text x="170" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">APP ZONE → Backend Services</text>
  </g>
  
  <!-- ASIA Region -->
  <g transform="translate(800, 245)">
    <rect width="340" height="280" rx="12" fill="url(#asiaGrad)" filter="url(#shadow)"/>
    <text x="170" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">ASIA REGION</text>
    
    <rect x="15" y="50" width="310" height="55" rx="5" fill="rgba(255,255,255,0.2)"/>
    <text x="170" y="72" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">OUTER DMZ</text>
    <text x="170" y="92" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="rgba(255,255,255,0.9)">WAF | DDoS Protection | Regional LB | SSL Termination</text>
    
    <rect x="15" y="115" width="310" height="110" rx="5" fill="rgba(255,255,255,0.3)"/>
    <text x="170" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">INNER DMZ - EXTERNAL GATEWAYS</text>
    
    <rect x="25" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="57" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="57" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-1</text>
    
    <rect x="100" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="132" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="132" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-2</text>
    
    <rect x="175" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="207" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="207" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-3</text>
    
    <rect x="250" y="150" width="65" height="55" rx="4" fill="url(#extGwGrad)" filter="url(#shadow)"/>
    <text x="282" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Ext GW</text>
    <text x="282" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Node-N</text>
    
    <rect x="15" y="235" width="310" height="30" rx="4" fill="rgba(255,255,255,0.15)"/>
    <text x="170" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">APP ZONE → Backend Services</text>
  </g>
  
  <!-- Core Zone Connection -->
  <rect x="50" y="550" width="1100" height="100" rx="10" fill="url(#coreGrad)" filter="url(#shadow)"/>
  <text x="600" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">CORE ZONE (Config Sync)</text>
  <text x="300" y="610" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Management API</text>
  <text x="600" y="610" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">MySQL (API Configs)</text>
  <text x="900" y="610" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Elasticsearch (Analytics)</text>
  <text x="600" y="640" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="rgba(255,255,255,0.8)">All External Gateways sync configuration from Core Zone</text>
  
  <!-- Connection Lines -->
  <line x1="230" y1="525" x2="230" y2="550" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="600" y1="525" x2="600" y2="550" stroke="#2ecc71" stroke-width="2" stroke-dasharray="5,3"/>
  <line x1="970" y1="525" x2="970" y2="550" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,3"/>
  
  <!-- Legend -->
  <g transform="translate(50, 670)">
    <rect x="0" y="0" width="15" height="15" fill="#1abc9c"/>
    <text x="20" y="12" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">External API Gateway</text>
    <text x="200" y="12" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">Purpose: Handle external API traffic from internet consumers</text>
    <text x="650" y="12" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">Security: WAF, DDoS, Rate Limiting, OAuth2/JWT validation</text>
  </g>
</svg>

