---
title: Console UI Login Flow (Corporate User)
---

sequenceDiagram
    autonumber
    
    participant User as ğŸ‘¤ Corporate User<br/>(Corporate Zone)
    participant Console as ğŸ’» Console UI<br/>(Core Zone)
    participant OpenAM as ğŸ” OpenAM SSO<br/>(Inner DMZ)
    participant LDAP as ğŸ“ LDAP/AD
    participant API as ğŸ“Š Mgmt API<br/>(Core Zone)
    
    Note over User,API: CORPORATE USER â†’ CONSOLE UI LOGIN (OAuth 2.0 / OIDC)
    
    User->>Console: 1ï¸âƒ£ Access console.internal.company.com
    Console->>Console: Check session
    Console-->>User: 2ï¸âƒ£ 302 Redirect to OpenAM
    
    Note right of Console: /oauth2/authorize?<br/>client_id=gravitee-console&<br/>redirect_uri=https://console.../callback&<br/>response_type=code&<br/>scope=openid profile
    
    User->>OpenAM: 3ï¸âƒ£ Follow redirect to login page
    OpenAM-->>User: 4ï¸âƒ£ Display login form
    
    User->>OpenAM: 5ï¸âƒ£ Submit credentials<br/>(username/password)
    
    OpenAM->>LDAP: 6ï¸âƒ£ Validate credentials
    LDAP-->>OpenAM: 7ï¸âƒ£ User authenticated âœ…<br/>Groups: [api-admins]
    
    OpenAM-->>User: 8ï¸âƒ£ 302 Redirect with auth code<br/>/callback?code=abc123
    
    User->>Console: 9ï¸âƒ£ GET /callback?code=abc123
    
    Console->>OpenAM: ğŸ”Ÿ POST /oauth2/token<br/>{code, client_id, client_secret}
    
    OpenAM-->>Console: 1ï¸âƒ£1ï¸âƒ£ Token Response<br/>{access_token, id_token, refresh_token}
    
    Console->>Console: 1ï¸âƒ£2ï¸âƒ£ Create session<br/>Store tokens
    
    Console-->>User: 1ï¸âƒ£3ï¸âƒ£ Set-Cookie: SESSION<br/>Redirect to dashboard
    
    User->>Console: 1ï¸âƒ£4ï¸âƒ£ Access dashboard
    Console->>API: 1ï¸âƒ£5ï¸âƒ£ GET /management/apis<br/>Authorization: Bearer token
    API-->>Console: 1ï¸âƒ£6ï¸âƒ£ API list
    Console-->>User: 1ï¸âƒ£7ï¸âƒ£ Render Console Dashboard
    
    Note over User,API: âœ… Corporate User logged in to Console UI
